
/*
 * -------------------------------------------------------
 * Project: 
 * Version: 1.0.0
 * Author:   ()
 *
 * Copyright (c) 2016 
 * -------------------------------------------------------
 */

"use strict";var app=angular.module("AgendaApp",["ngRoute"]);app.config(["$routeProvider","$httpProvider",function($routeProvider,$httpProvider){$httpProvider.defaults.useXDomain=!0,delete $httpProvider.defaults.headers.common["X-Requested-With"],$routeProvider.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/contact/:id",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).otherwise({redirectTo:"/"})}]),app.factory("contactService",["$http",function($http){return{getContatos:function(res,err){$http.get("http://localhost:8000/contacts/").success(res).error(function(e){err&&err(e)})},getContato:function(res,err,id){$http.get("http://localhost:8000/contact/"+id).success(res).error(function(e){err&&err(e)})}}}]),app.controller("ContactCtrl",["$scope",function($scope){}]),app.controller("MainCtrl",["$scope","contactService",function($scope,contactService){function loadContatos(){contactService.getContatos(function(res){$scope.contacts=res})}$scope.contacts=[],$scope.$on("$viewContentLoaded",function(){loadContatos()})}]);